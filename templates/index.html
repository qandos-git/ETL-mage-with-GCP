<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ฆ๏ธ ุงูุฌู ุงูููู</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h1>๐ค๏ธ ุชููุนุงุช ุงูุทูุณ ูู ุจุฑูุฏุฉ</h1>

        <div class="weather-card">
            <p class="temp">๐ก๏ธ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงูุญุงููุฉ: <strong>{{ current_temp }}ยฐC</strong></p>
            <p>๐ฅ ุงูุฅุญุณุงุณ ุงูุญุฑุงุฑู ุงููุชููุน: <strong>{{ feels_like }}ยฐC</strong></p>
            <p>๐ก <span class="advice">{{ recommendation }}</span></p>
        </div>

        <div class="explanation">
            <h2>๐ค ูุด ูุนูู "ุงูุฅุญุณุงุณ ุงูุญุฑุงุฑู"ุ</h2>
            <p>
                ุงูุฅุญุณุงุณ ุงูุญุฑุงุฑู ูู ูุด ุชุญุณ ุจู ูุนููุงุ ูู ุจุณ ูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงููุนููุฉ.
                ูุนูู ูู ููู ุฑุทูุจุฉ ุนุงููุฉ ุฃู ููุง ูููุ ูููู ุชุญุณ ุฅู ุงูุฌู ุฃุญุฑ ุฃู ุฃุจุฑุฏ ูู ุงูุฑูู ุงููู ุชุดููู.
                ุงููููุฐุฌ ุงููู ุนูุฏูุง ูุณุชุฎุฏู ูู ุนุงูู ูุซู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงูุญุงููุฉุ ุฃุนูู ูุฃูู ุฏุฑุฌุฉ ุฎูุงู ุงููููุ ูุจุนุฏ ูุญุณุจ ูุฑู ุงูุญุฑุงุฑุฉ ุนุดุงู ูุนุทูู ุฅุญุณุงุณ ูุงูุนู ุฃูุซุฑ.
            </p>
        </div>

        <div class="test-model">
            <h2>๐๏ธ ุฌุฑุจ ุงููููุฐุฌ ุจููุณู!</h2>
            <form id="testForm">
                <div class="input-group">
                    <label for="temp">๐ก๏ธ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงูุญุงููุฉ:</label>
                    <input type="number" id="temp" required> ยฐC
                </div>

                <div class="input-group">
                    <label for="temp_min">โ๏ธ ุฃูู ุฏุฑุฌุฉ ุงูููู:</label>
                    <input type="number" id="temp_min" required> ยฐC
                </div>

                <div class="input-group">
                    <label for="temp_max">๐ฅ ุฃุนูู ุฏุฑุฌุฉ ุงูููู:</label>
                    <input type="number" id="temp_max" required> ยฐC
                </div>

                <button type="submit">๐ ุชููุน ุงูุฅุญุณุงุณ ุงูุญุฑุงุฑู</button>
            </form>

            <p id="testResult"></p>
        </div>
    </div>

    <script>
        document.getElementById("testForm").addEventListener("submit", function (event) {
            event.preventDefault();

            let temp = document.getElementById("temp").value;
            let temp_min = document.getElementById("temp_min").value;
            let temp_max = document.getElementById("temp_max").value;
            let temp_range = temp_max - temp_min;

            fetch("/test_model", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ temp: temp, temp_min: temp_min, temp_max: temp_max, temp_range: temp_range })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById("testResult").innerHTML =
                    `ุงูุฅุญุณุงุณ ุงูุญุฑุงุฑู ุงููุชููุน: <strong>${data.feels_like}ยฐC</strong> <br> ๐ก ุงููุตูุญุฉ: <strong>${data.recommendation}</strong>`;
            })
            .catch(error => {
                document.getElementById("testResult").textContent = "โ ุตุงุฑ ุฎุทุฃุ ุฌุฑุจ ูุฑุฉ ุซุงููุฉ!";
            });
        });
    </script>
</body>
</html>
